{
  "name": "YFIN_PRICES",
  "description": "When a user requests stock prices, use this tool to get the stock prices. Needs Yahoo Finance symbol and start date and end date. If no date range is specified then make sure to ask user for date range. Don't share any data till the user shares a time range. Be nice about it.",
  "color": "linear-gradient(rgb(253,167,127), rgb(146,235,111))",
  "iconSrc": "",
  "schema": "[{\"id\":0,\"property\":\"ticker\",\"description\":\"Yahoo Finance Symbol.\",\"type\":\"string\",\"required\":true},{\"id\":1,\"property\":\"startDate\",\"description\":\"start date for equity stock prices in YYYY-MM-DD format\",\"type\":\"string\",\"required\":true},{\"id\":2,\"property\":\"endDate\",\"description\":\"end date for equity stock prices in YYYY-MM-DD format\",\"type\":\"string\",\"required\":false}]",
  "func": "/*\n* You can use any libraries imported in Flowise\n* You can use properties specified in Output Schema as variables. Ex: Property = userid, Variable = $userid\n* You can get default flow config: $flow.sessionId, $flow.chatId, $flow.chatflowId, $flow.input\n* You can get custom variables: $vars.<variable-name>\n* Must return a string value at the end of function\n*/\n\nconst fetch = require('node-fetch');\nconst url = 'https://yfin.onrender.com/get-adj-close/?tickers=' + $ticker + '&start_date=' + $startDate + '&end_date=' + $endDate;\nconst options = {\n    method: 'GET',\n    headers: {\n        'Content-Type': 'application/json'\n    }\n};\ntry {\n    const response = await fetch(url, options);\n    const text = await response.text();\n    return text;\n} catch (error) {\n    console.error(error);\n    return '';\n}"
}